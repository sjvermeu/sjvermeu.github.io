<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Simplicity is a form of art... - zoning</title><link href="https://blog.siphos.be/" rel="alternate"></link><link href="https://blog.siphos.be/tag/zoning/feed/atom.xml" rel="self"></link><id>https://blog.siphos.be/</id><updated>2021-12-30T12:00:00+01:00</updated><entry><title>The pleasures of having DTAP</title><link href="https://blog.siphos.be/2021/12/the-pleasures-of-having-DTAP/" rel="alternate"></link><published>2021-12-30T12:00:00+01:00</published><updated>2021-12-30T12:00:00+01:00</updated><author><name>Sven Vermeulen</name></author><id>tag:blog.siphos.be,2021-12-30:/2021/12/the-pleasures-of-having-DTAP/</id><summary type="html">&lt;p&gt;No, not Diphtheria, Tetanus, and Pertussis (vaccine), but &lt;em&gt;Development,
Test, Acceptance, and Production (DTAP)&lt;/em&gt;: different environments that,
together with a well-working release management process, provide a way to
get higher quality and reduced risks in production. DTAP is an important
cornerstone for a larger infrastructure architecture as it provides
environments that are tailored to the needs of many stakeholders.&lt;/p&gt;
</summary><content type="html">&lt;p&gt;No, not Diphtheria, Tetanus, and Pertussis (vaccine), but &lt;em&gt;Development,
Test, Acceptance, and Production (DTAP)&lt;/em&gt;: different environments that,
together with a well-working release management process, provide a way to
get higher quality and reduced risks in production. DTAP is an important
cornerstone for a larger infrastructure architecture as it provides
environments that are tailored to the needs of many stakeholders.&lt;/p&gt;


&lt;p&gt;&lt;strong&gt;What are these four environments?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Let's go over the four environments one by one with a small introduction
to their purpose. I'll cover more specific use cases further down in this
post.&lt;/p&gt;
&lt;p&gt;The &lt;em&gt;Development&lt;/em&gt; environment is a functionally complete environment on
which the development of products or code is done. It should have the same
technologies in place and very similar setups (deployments) so that
developers are not facing a too different environment. Too much difference
might imply different behavior, which is contra-productive. The environment
is accessible by developers and testers, and is mainly development-oriented.&lt;/p&gt;
&lt;p&gt;Products or code that are being developed will be visible and used in this
environment. Developers and engineers hardly have any threshold to reach for
deploying or modifying code here.&lt;/p&gt;
&lt;p&gt;The &lt;em&gt;Testing&lt;/em&gt; environment is used when the development has reached a phase
where the product or code has passed a minimum of quality. Unit tests
succeed, the code builds fine, and the developer has indicated that the
code or product is ready for wider testing (hence the name).&lt;/p&gt;
&lt;p&gt;A testing environment generally applies a multitude of tests, most of
them (hopefully) automated, but with a strong dependency on testers
(also known as Quality Assurance engineers or QA engineers) to find issues.&lt;/p&gt;
&lt;p&gt;The automated tests focus on integrations, regression testing, security
testing, etc., and provide insights into the new builds or products which the
development team can take up and iterate over to improve the product.&lt;/p&gt;
&lt;p&gt;The &lt;em&gt;Acceptance&lt;/em&gt; environment is a production-like environment, not
just for one product, but for the entire business or business unit: the same
setup, the same infrastructure, the same foundations, the same application
portfolio, the same integrations, etc. This environment intends to 
validate that the product is fully ready to be released. It is often
also abbreviated as the &lt;em&gt;User Acceptance Testing (UAT)&lt;/em&gt; environment.&lt;/p&gt;
&lt;p&gt;While the testing environment is generally approached by QA engineers, the
acceptance environment should be more tailored to business testers. When
developers or engineers introduce a feature, the stakeholders that
requested that feature use the acceptance environment to accept if the
coming release fulfills their request or not.&lt;/p&gt;
&lt;p&gt;As the environment is production-like in its entirety (and not just for
a single product), it is a prime target for executing performance tests
as well. Cross-product dependencies and processes (like migrations) are
validated here too.&lt;/p&gt;
&lt;p&gt;The &lt;em&gt;Production&lt;/em&gt; environment is the environment in which the product or
code "goes live", where the customers use it. That does not mean that
a product put in production is immediately accessible for the customers:
there is still a difference between deployment (bring to production),
activation (enable usage), and release (use by customers).&lt;/p&gt;
&lt;p&gt;While DTAP is well-known in larger organizations, there are some challenges
or misconceptions that I would like to point out, and which I discuss
further down:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Environments are more than just the systems where the code is deployed to.
  Each environment has production services associated with it.&lt;/li&gt;
&lt;li&gt;A prime challenge to implementing DTAP is the cost associated with it. But
  it does not need to be as expensive as you think, and DTAP implementations
  often have a positive business case.&lt;/li&gt;
&lt;li&gt;Agile methodologists might find DTAP to be old-style. They are correct
  that many implementations are prohibitive towards fast deployment and
  release strategies, but that isn't because DTAP is conceptually wrong.&lt;/li&gt;
&lt;li&gt;Not all environments need the same data. On the contrary, a proper DTAP
  design likely uses separate datasets in each environment to deal with 
  the security and regulatory requirements.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Conceptual environments still require production services&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The purpose of each environment is strongly tied to the 'phase' in which
the code or the product resides in the development lifecycle. That means
that these environments have a strong focus on that product or code, and
not on the services that are needed.&lt;/p&gt;
&lt;p&gt;Indeed, a development environment also entails services that are already
'in production', like a usable workstation, development services like
code repositories and build systems, ticketing services, and more. A testing
environment requires test automation engines, regression test frameworks,
security tools, and more. All these services are production-ready - and they
often have their own DTAP environments as well.&lt;/p&gt;
&lt;p&gt;It is a common misconception that a development-oriented system or service
has a lower SLA or lower risk profile than production, and infrastructure
architecture should make clear that there is a difference between the
systems that host the products or code under review and the systems that
facilitate the functionality needed within the environment.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Static cost is a major inhibitor for implementing DTAP&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Smaller companies or organizations might be hesitant to introduce DTAP
environments as it might be cost-prohibitive. While it is true
that, from a 'static' view, a DTAP environment costs more than a
production-only environment, you need to consider the impact of implementing
DTAP in the processes.&lt;/p&gt;
&lt;p&gt;The main purpose of DTAP is not to make your CFO angry, but to improve the
quality of your production environment (and usage). Ask yourself: how costly
is it when your production systems go down, or when your customers complain
and you need to fix things... Do you update code directly on the server(s)?
What if a security patch is rolled out and suddenly prevents your
customer-facing application from working?&lt;/p&gt;
&lt;p&gt;While DTAP mentions four environments, some companies settle with three, and
others with five or more. Perhaps your testing and acceptance are done by the
same people, and you do not have many automated testing facilities at hand.
Splitting your pre-production environments into multiple environments doesn't
make sense yet, and you might first want to focus on improving your testing
maturity in general.&lt;/p&gt;
&lt;p&gt;If you want to make the case for DTAP, consider the use cases or scenarios that
have visibly disrupted your business and how/where the environments would have
helped. In many cases, you'll notice that there is a positive business case
for a step-wise move towards DTAP.&lt;/p&gt;
&lt;p&gt;Furthermore, a proper design of these environments will facilitate an
economical view towards DTAP. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You can use pay-as-you-use environments (as is commonly the case in the 
  public cloud) which you only activate when you do your testing. If you have
  a 24/7 customer-facing service in production, that doesn't mean that your
  acceptance environment has to be 24/7. Yes, it should be as much
  production-like as possible, but if it isn't doing anything outside
  business hours, then you don't need it running outside business hours.&lt;/li&gt;
&lt;li&gt;Commercial products often have distinct terms and conditions for
  non-production usage. You can have databases in production with a
  premium, gold service level agreement, while having the same database in
  the other environments with a low, bronze service level agreement
  towards that vendor: cheaper, but technically the same.&lt;/li&gt;
&lt;li&gt;Abstraction and virtualization technologies allow for better control
  of the resources that are being used. For instance, you can have
  an acceptance environment that is only at 20% of the resources
  of production for day-to-day validation, and then increase its resources
  to 100% for load testing periods. If these environments are not in a
  pay-as-you-use model, shifting resources from one environment to
  another allows for controlling the costs.&lt;/li&gt;
&lt;li&gt;Security controls in these environments might be different as well,
  assuming that these environments have different data needs: if you
  use fictitious data in development and testing, and anonymized data
  in acceptance, then the investments on, say, data leakage controls
  might be different for these environments.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hence, while DTAP is at first glance a costly approach, the actual case is
that it is positive for the company.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DTAP is not inefficient, but some implementations are&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;In a world where "Release fast, release often" is the norm, having a rigid
DTAP strategy might be contra-productive. However, this is more an
implementation concern than a conceptual one. If I consider the downsides
that &lt;a href="https://medium.com/the-liberators/want-to-be-agile-drop-your-dtap-pipeline-7dcb496fe9e3"&gt;Christiaan Verwijs&lt;/a&gt;
mentions in his post, I feel that I can safely state that this is not due
to the lifecycle of the code or product, but rather the choices that a
company has made while assessing and implementing a release strategy.&lt;/p&gt;
&lt;p&gt;There is no need to bundle and make bulk releases with DTAP. You can
perfectly design an environment where DevOps teams can release easily
to production. More so, the bulk release strategy is frequently the result
of an application design constraint, not a deployment constraint.&lt;/p&gt;
&lt;p&gt;Development methodologies and DTAP environments do need to be tailored
to each other. The purpose of DTAP is to facilitate the quality of products
and code, and thus should be tailored towards efficient and qualitative
development processes. In many environments, DTAP is synonymous with
"infrastructure operations" and that's a wrong approach. 
Operations-oriented teams (like &lt;em&gt;Site Reliability Engineers (SREs)&lt;/em&gt;),
development-oriented teams, and DevOps teams all have the same benefits from
DTAP.&lt;/p&gt;
&lt;p&gt;Some might state that an acceptance environment is no longer suitable in
the modern age, as they can deploy products and code to production without
losing the benefits of the acceptance environment. With blue/green
deployments or canary releases, you can enable business testers and
stakeholders to validate new features or code before releasing it
to the wider public.&lt;/p&gt;
&lt;p&gt;To accomplish this properly, however, the platform that is used will
balance resources accordingly, and you're conceptually implementing an
(albeit temporary) acceptance environment in an automated way. This is
an implementation choice and has to be balanced against the requirements
that the organization has.&lt;/p&gt;
&lt;p&gt;For instance, if you work with sensitive data, you might not be allowed
to use this data during testing. In Europe, the &lt;em&gt;General Data Protection
Regulation (GDPR)&lt;/em&gt; is a strong regulatory requirement for dealing with
sensitive data. It isn't a playbook though: companies need to evaluate
how and where data is used, and perhaps the balance made by the company
allows, if not with explicit consent, to use data unmodified for
acceptance testing. But if that isn't the case and your acceptance tests
need to use sanitized data, then having separate environments is likely
more sensible (although different implementations exist that allow
for anonymization in production as well - they're, however, not as easy
to implement).&lt;/p&gt;
&lt;p&gt;Plus, DTAP does not imply that production is doing everything in a single
unit of work: Deploy, Activate and Release. You can still perfectly position
those tasks in production while having an explicit acceptance environment.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Separate datasets in each environment make sense&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;For regulated companies and organizations, security officers might want
to use the DTAP distinction to focus on data minimization strategies as well.
As mentioned before, the GDPR is a strong regulatory requirement whose
alignment can be facilitated by a well-designed DTAP approach.&lt;/p&gt;
&lt;p&gt;You can use fictitious data in development and testing, with development
using datasets that developers use for validating the specific functionality
they are working on (and preferably share and put alongside the code
and products), whereas testing uses a coherent but still fictitious
dataset. I use "coherent" here as an indication that the data should
be functionally correct and integer: a (fictitious) person record in the
customer database in the testing environment should be mapped to the
(fictitious) calls or other interactions that are stored in the support
database (also in the testing environment) and the (fictitious) portfolio
that this (fictitious) person has in the product database (in the testing
environment).&lt;/p&gt;
&lt;p&gt;Don't underestimate how powerful, but also how challenging a good fictitious
dataset is.&lt;/p&gt;
&lt;p&gt;For acceptance testing, perhaps the company decided that anonymized data
is to be used. Or it uses pseudonymized data (which is a weaker form)
with additional technical controls to prevent leakage and attacks (including
inference) that try to deduce the origin of the data.&lt;/p&gt;
&lt;p&gt;Again, these are choices by the company or organization, which need to be
taken with the risk and business stakeholders.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Conclusion&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;DTAP is a sensible approach for improving quality in products and code.
While it isn't the holy grail for quality assurance, it has solid
foundations that many larger companies and organizations feel comfortable
with. The implementation details make or break how well-adjusted the DTAP
approach is for modern development processes and regulatory requirements.&lt;/p&gt;
&lt;p&gt;Feedback? Comments? Don't hesitate to &lt;a href="mailto:sven.vermeulen@siphos.be"&gt;drop me an
email&lt;/a&gt;, or join the &lt;a href="https://twitter.com/infrainsight/status/TODO"&gt;discussion on
Twitter&lt;/a&gt;.&lt;/p&gt;</content><category term="Architecture"></category><category term="DTAP"></category><category term="environments"></category><category term="zoning"></category><category term="development"></category><category term="test"></category><category term="acceptance"></category><category term="production"></category></entry><entry><title>Structuring infrastructural deployments</title><link href="https://blog.siphos.be/2017/06/structuring-infrastructural-deployments/" rel="alternate"></link><published>2017-06-07T20:40:00+02:00</published><updated>2017-06-07T20:40:00+02:00</updated><author><name>Sven Vermeulen</name></author><id>tag:blog.siphos.be,2017-06-07:/2017/06/structuring-infrastructural-deployments/</id><summary type="html">&lt;p&gt;Many organizations struggle with the all-time increase in IP address
allocation and the accompanying need for segmentation. In the past, governing
the segments within the organization means keeping close control over the
service deployments, firewall rules, etc.&lt;/p&gt;
&lt;p&gt;Lately, the idea of micro-segmentation, supported through software-defined
networking solutions, seems to defy the need for a segmentation governance.
However, I think that that is a very short-sighted sales proposition. Even
with micro-segmentation, or even pure point-to-point / peer2peer communication
flow control, you'll still be needing a high level overview of the services
within your scope.&lt;/p&gt;
&lt;p&gt;In this blog post, I'll give some insights in how we are approaching this in
the company I work for. In short, it starts with requirements gathering,
creating labels to assign to deployments, creating groups based on one or two
labels in a layered approach, and finally fixating the resulting schema and
start mapping guidance documents (policies) toward the presented architecture.&lt;/p&gt;
</summary><content type="html">&lt;p&gt;Many organizations struggle with the all-time increase in IP address
allocation and the accompanying need for segmentation. In the past, governing
the segments within the organization means keeping close control over the
service deployments, firewall rules, etc.&lt;/p&gt;
&lt;p&gt;Lately, the idea of micro-segmentation, supported through software-defined
networking solutions, seems to defy the need for a segmentation governance.
However, I think that that is a very short-sighted sales proposition. Even
with micro-segmentation, or even pure point-to-point / peer2peer communication
flow control, you'll still be needing a high level overview of the services
within your scope.&lt;/p&gt;
&lt;p&gt;In this blog post, I'll give some insights in how we are approaching this in
the company I work for. In short, it starts with requirements gathering,
creating labels to assign to deployments, creating groups based on one or two
labels in a layered approach, and finally fixating the resulting schema and
start mapping guidance documents (policies) toward the presented architecture.&lt;/p&gt;


&lt;p&gt;&lt;strong&gt;As always, start with the requirements&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;From an infrastructure architect point of view, creating structure is one way
of dealing with the onslaught in complexity that is prevalent within the wider
organizational architecture. By creating a framework in which infrastructural
services can be positioned, architects and other stakeholders (such as
information security officers, process managers, service delivery owners, project
and team leaders ...) can support the wide organization in its endeavor of
becoming or remaining competitive.&lt;/p&gt;
&lt;p&gt;Structure can be provided through various viewpoints. As such, while creating
such framework, the initial intention is not to start drawing borders or
creating a complex graph. Instead, look at attributes that one would assign
to an infrastructural service, and treat those as labels. Create a nice
portfolio of attributes which will help guide the development of such framework.&lt;/p&gt;
&lt;p&gt;The following list gives some ideas in labels or attributes that one can use.
But be creative, and use experienced people in devising the "true" list of
attributes that fits the needs of your organization. Be sure to describe them
properly and unambiguously - the list here is just an example, as are the
descriptions.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;tenant&lt;/strong&gt; identifies the organizational aggregation of business units which are
  sufficiently similar in areas such as policies (same policies in use),
  governance (decision bodies or approval structure), charging, etc. It
  could be a hierarchical aspect (such as organization) as well.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;location&lt;/strong&gt; provides insight in the physical (if applicable) location of the
  service. This could be an actual building name, but can also be structured
  depending on the size of the environment. If it is structured, make sure to
  devise a structure up front. Consider things such as regions, countries,
  cities, data centers, etc. A special case location value could be the
  jurisdiction, if that is something that concerns the organization.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;service type&lt;/strong&gt; tells you what kind of service an asset is. It can be a
  workstation, a server/host, server/guest, network device, virtual or
  physical appliance, sensor, tablet, etc.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;trust level&lt;/strong&gt; provides information on how controlled and trusted the service
  is. Consider the differences between unmanaged (no patching, no users doing
  any maintenance), open (one or more admins, but no active controlled
  maintenance), controlled (basic maintenance and monitoring, but with still
  administrative access by others), managed (actively maintained, no privileged
  access without strict control), hardened (actively maintained, additional
  security measures taken) and kiosk (actively maintained, additional security
  measures taken and limited, well-known interfacing).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;compliance set&lt;/strong&gt; identifies specific compliance-related attributes, such as the
  PCI-DSS compliancy level that a system has to adhere to.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;consumer group&lt;/strong&gt; informs about the main consumer group, active on the service.
  This could be an identification of the relationship that consumer group has
  with the organization (anonymous, customer, provider, partner, employee, ...)
  or the actual name of the consumer group.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;architectural purpose&lt;/strong&gt; gives insight in the purpose of the service in
  infrastructural terms. Is it a client system, a gateway, a mid-tier system,
  a processing system, a data management system, a batch server, a reporting
  system, etc.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;domain&lt;/strong&gt; could be interpreted as to the company purpose of the system. Is it for
  commercial purposes (such as customer-facing software), corporate functions
  (company management), development, infrastructure/operations ...&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;production status&lt;/strong&gt; provides information about the production state of a
  service. Is it a production service, or a pre-production (final testing before
  going to production), staging (aggregation of multiple changes) or development
  environment?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Given the final set of labels, the next step is to aggregate results to create
a high-level view of the environment.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Creating a layered structure&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Chances are high that you'll end up with several attributes, and many of these
will have multiple possible values. What we don't want is to end in an
N-dimensional infrastructure architecture overview. Sure, it sounds sexy to do
so, but you want to show the infrastructure architecture to several stakeholders
in your organization. And projecting an N-dimensional structure on a
2-dimensional slide is not only challenging - you'll possibly create a projection
which leaves out important details or make it hard to interpret.&lt;/p&gt;
&lt;p&gt;Instead, we looked at a &lt;em&gt;layered approach&lt;/em&gt;, with each layer handling one or two
requirements. The top layer represents the requirement which the organization
seems to see as the most defining attribute. It is the attribute where, if its
value changes, most of its architecture changes (and thus the impact of a service
relocation is the largest).&lt;/p&gt;
&lt;p&gt;Suppose for instance that the domain attribute is seen as the most defining one:
the organization has strict rules about placing corporate services and commercial
services in separate environments, or the security officers want to see the
commercial services, which are well exposed to many end users, be in a separate
environment from corporate services. Or perhaps the company offers commercial
services for multiple tenants, and as such wants several separate "commercial
services" environments while having a single corporate service domain.&lt;/p&gt;
&lt;p&gt;In this case, part of the infrastructure architecture overview on the top level
could look like so (hypothetical example):&lt;/p&gt;
&lt;p&gt;&lt;img alt="Top level view" src="https://blog.siphos.be/images/201706/07-1-toplevelview.png"&gt;&lt;/p&gt;
&lt;p&gt;This also shows that, next to the corporate and commercial interests of the
organization, a strong development support focus is prevalent as well. This
of course depends on the type of organization or company and how significant
in-house development is, but in this example it is seen as a major decisive
factor for service positioning.&lt;/p&gt;
&lt;p&gt;These top-level blocks (depicted as locations, for those of you using Archimate)
are what we call "&lt;strong&gt;zones&lt;/strong&gt;". These are not networks, but clearly bounded areas in
which multiple services are positioned, and for which particular handling rules
exist. These rules are generally written down in policies and standards - more
about that later.&lt;/p&gt;
&lt;p&gt;Inside each of these zones, a substructure is made available as well, based on
another attribute. For instance, let's assume that this is the architectural
purpose. This could be because the company has a requirement on segregating
workstations and other client-oriented zones from the application hosting related
ones. Security-wise, the company might have a principle where mid-tier services
(API and presentation layer exposures) are separate from processing services,
and where data is located in a separate zone to ensure specific data access or
more optimal infrastructure services.&lt;/p&gt;
&lt;p&gt;This zoning result could then be depicted as follows:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Detailed top-level view" src="https://blog.siphos.be/images/201706/07-1-detailedtoplevel.png"&gt;&lt;/p&gt;
&lt;p&gt;From this viewpoint, we can also deduce that this company provides separate
workstation services: corporate workstation services (most likely managed
workstations with focus on application disclosure, end user computing, etc.)
and development workstations (most likely controlled workstations but with more
open privileged access for the developer).&lt;/p&gt;
&lt;p&gt;By making this separation explicit, the organization makes it clear that the
development workstations will have a different position, and even a different
access profile toward other services within the company.&lt;/p&gt;
&lt;p&gt;We're not done yet. For instance, on the mid-tier level, we could look at the
consumer group of the services:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Mid-tier explained" src="https://blog.siphos.be/images/201706/07-1-midtier.png"&gt;&lt;/p&gt;
&lt;p&gt;This separation can be established due to security reasons (isolating services
that are exposed to anonymous users from customer services or even partner
services), but one can also envision this to be from a management point of
view (availability requirements can differ, capacity management is more
uncertain for anonymous-facing services than authenticated, etc.)&lt;/p&gt;
&lt;p&gt;Going one layer down, we use a production status attribute as the defining
requirement:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Anonymous user detail" src="https://blog.siphos.be/images/201706/07-1-anonymousdetail.png"&gt;&lt;/p&gt;
&lt;p&gt;At this point, our company decided that the defined layers are sufficiently
established and make for a good overview. We used different defining properties
than the ones displayed above (again, find a good balance that fits the company
or organization that you're focusing on), but found that the ones we used were
mostly involved in existing policies and principles, while the other ones are
not that decisive for infrastructure architectural purposes. &lt;/p&gt;
&lt;p&gt;For instance, the tenant might not be selected as a deciding attribute, because
there will be larger tenants and smaller tenants (which could make the resulting
zone set very convoluted) or because some commercial services are offered toward
multiple tenants and the organizations' strategy would be to move toward
multi-tenant services rather than multiple deployments.&lt;/p&gt;
&lt;p&gt;Now, in the zoning structure there is still another layer, which from an
infrastructure architecture point is less about rules and guidelines and more
about manageability from an organizational point of view. For instance, in the
above example, a SAP deployment for HR purposes (which is obviously a corporate
service) might have its Enterprise Portal service in the &lt;code&gt;Corporate Services&lt;/code&gt; &amp;gt; 
&lt;code&gt;Mid-tier&lt;/code&gt; &amp;gt; &lt;code&gt;Group Employees&lt;/code&gt; &amp;gt; &lt;code&gt;Production&lt;/code&gt; zone. However, another service such as
an on-premise SharePoint deployment for group collaboration might be in &lt;code&gt;Corporate
Services&lt;/code&gt; &amp;gt; &lt;code&gt;Mid-tier&lt;/code&gt; &amp;gt; &lt;code&gt;Group Employees&lt;/code&gt; &amp;gt; &lt;code&gt;Production&lt;/code&gt; zone as well. Yet both
services are supported through different teams.&lt;/p&gt;
&lt;p&gt;This "final" layer thus enables grouping of services based on the supporting
team (again, this is an example), which is organizationally aligned with the
business units of the company, and potentially further isolation of services
based on other attributes which are not defining for all services. For instance,
the company might have a policy that services with a certain business impact
assessment score must be in isolated segments with no other deployments within
the same segment.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;What about management services&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Now, the above picture is missing some of the (in my opinion) most important
services: infrastructure support and management services. These services do not
shine in functional offerings (which many non-IT people generally look at) but
are needed for non-functional requirements: manageability, cost control,
security (if security can be defined as a non-functional - let's not discuss
that right now).&lt;/p&gt;
&lt;p&gt;Let's first consider &lt;em&gt;interfaces&lt;/em&gt; - gateways and other services which are
positioned between zones or the "outside world". In the past, we would speak of
a demilitarized zone (DMZ). In more recent publications, one can find this as
an interface zone, or a set of Zone Interface Points (ZIPs) for accessing and
interacting with the services within a zone.&lt;/p&gt;
&lt;p&gt;In many cases, several of these interface points and gateways are used in the
organization to support a number of non-functional requirements. They can be
used for intelligent load balancing, providing virtual patching capabilities,
validating content against malware before passing it on to the actual services,
etc.&lt;/p&gt;
&lt;p&gt;Depending on the top level zone, different gateways might be needed (i.e.
different requirements). Interfaces for commercial services will have a strong
focus on security and manageability. Those for the corporate services might be
more integration-oriented, and have different data leakage requirements than
those for commercial services.&lt;/p&gt;
&lt;p&gt;Also, inside such an interface zone, one can imagine a substructure to take
place as well: egress interfaces (for communication that is exiting the zone),
ingress interfaces (for communication that is entering the zone) and internal
interfaces (used for routing between the subzones within the zone).&lt;/p&gt;
&lt;p&gt;Yet, there will also be requirements which are company-wide. Hence, one could
envision a structure where there is a company-wide interface zone (with
mandatory requirements regardless of the zone that they support) as well as a
zone-specific interface zone (with the mandatory requirements specific to that
zone).&lt;/p&gt;
&lt;p&gt;Before I show a picture of this, let's consider &lt;em&gt;management services&lt;/em&gt;. Unlike
interfaces, these services are more oriented toward the operational management
of the infrastructure. Software deployment, configuration management, identity
&amp;amp; access management services, etc. Are services one can put under management
services.&lt;/p&gt;
&lt;p&gt;And like with interfaces, one can envision the need for both company-wide
management services, as well as zone-specific management services.&lt;/p&gt;
&lt;p&gt;This information brings us to a final picture, one that assists the
organization in providing a more manageable view on its deployment landscape.
It does not show the 3rd layer (i.e. production versus non-production
deployments) and only displays the second layer through specialization
information, which I've quickly made a few examples for (you don't want to make
such decisions in a few hours, like I did for this post).&lt;/p&gt;
&lt;p&gt;&lt;img alt="General overview" src="https://blog.siphos.be/images/201706/07-1-firstgeneral.png"&gt;&lt;/p&gt;
&lt;p&gt;If the organization took an alternative approach for structuring (different
requirements and grouping) the resulting diagram could look quite different:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Alternative general overview" src="https://blog.siphos.be/images/201706/07-1-secondgeneral.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Flows, flows and more flows&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;With the high-level picture ready, it is not a bad idea to look at how flows
are handled in such an architecture. As the interface layer is available on
both company-wide level as well as the next, flows will cross multiple zones.&lt;/p&gt;
&lt;p&gt;Consider the case of a corporate workstation connecting to a reporting server
(like a Cognos or PowerBI or whatever fancy tool is used), and this reporting
server is pulling data from a database system. Now, this database system is
positioned in the &lt;code&gt;Commercial&lt;/code&gt; zone, while the reporting server is in the
&lt;code&gt;Corporate&lt;/code&gt; zone. The flows could then look like so:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Flow example" src="https://blog.siphos.be/images/201706/07-1-flow.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;sub&gt;Note for the Archimate people: I'm sorry that I'm abusing the flow relation
here. I didn't want to create abstract services in the locations and then use
the "serves" or "used by" relation and then explaining readers that the arrows
are then inverse from what they imagine.&lt;/sub&gt;&lt;/p&gt;
&lt;p&gt;In this picture, the corporate workstation does not connect to the reporting
server directly. It goes through the internal interface layer for the corporate
zone. This internal interface layer can offer services such as reverse proxies
or intelligent load balancers. The idea here is that, if the organization
wants, it can introduce additional controls or supporting services in this
internal interface layer without impacting the system deployments themselves
much.&lt;/p&gt;
&lt;p&gt;But the true flow challenge is in the next one, where a processing system
connects to a data layer. Here, the processing server will first connect to the
egress interface for corporate, then through the company-wide internal
interface, toward the ingress interface of the commercial and then to the data
layer.&lt;/p&gt;
&lt;p&gt;Now, why three different interfaces, and what would be inside it?&lt;/p&gt;
&lt;p&gt;On the corporate level, the egress interface could be focusing on privacy
controls or data leakage controls. On the company-wide internal interface more
functional routing capabilities could be provided, while on the commercial
level the ingress could be a database activity monitoring (DAM) system such as
a database firewall to provide enhanced auditing and access controls.&lt;/p&gt;
&lt;p&gt;Does that mean that all flows need to have at least three gateways? No, this is
a functional picture. If the organization agrees, then one or more of these
interface levels can have a simple pass-through setup. It is well possible that
database connections only connect directly to a DAM service and that such flows
are allowed to immediately go through other interfaces.&lt;/p&gt;
&lt;p&gt;The importance thus is not to make flows more difficult to provide, but to
provide several areas where the organization can introduce controls.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Making policies and standards more visible&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;One of the effects of having a better structure of the company-wide deployments
(i.e. a good zoning solution) is that one can start making policies more clear,
and potentially even simple to implement with supporting tools (such as
software defined network solutions).&lt;/p&gt;
&lt;p&gt;For instance, a company might want to protect its production data and establish
that it cannot be used for non-production use, but that there are no
restrictions for the other data environments. Another rule could be that
web-based access toward the mid-tier is only allowed through an interface.&lt;/p&gt;
&lt;p&gt;These are simple statements which, if a company has a good IP plan, are easy to
implement - one doesn't need zoning, although it helps. But it goes further
than access controls.&lt;/p&gt;
&lt;p&gt;For instance, the company might require corporate workstations to be under
heavy data leakage prevention and protection measures, while developer
workstations are more open (but don't have any production data access). This
not only reveals an access control, but also implies particular minimal
requirements (for the &lt;code&gt;Corporate&lt;/code&gt; &amp;gt; &lt;code&gt;Workstation&lt;/code&gt; zone) and services (for the
&lt;code&gt;Corporate&lt;/code&gt; interfaces).&lt;/p&gt;
&lt;p&gt;This zoning structure does not necessarily make any statements about the
location (assuming it isn't picked as one of the requirements in the
beginning). One can easily extend this to include cloud-based services or
services offered by third parties.&lt;/p&gt;
&lt;p&gt;Finally, it also supports making policies and standards more realistic. I often
see policies that make bold statements such as "all software deployments must
be done through the company software distribution tool", but the policies don't
consider development environments (production status) or unmanaged, open or
controlled deployments (trust level). When challenged, the policy owner might
shrug away the comment with "it's obvious that this policy does not apply to
our sandbox environment" or so.&lt;/p&gt;
&lt;p&gt;With a proper zoning structure, policies can establish the rules for the right
set of zones, and actually pin-point which zones are affected by a statement.
This is also important if a company has many, many policies. With a good zoning
structure, the policies can be assigned with meta-data so that affected roles
(such as project leaders, architects, solution engineers, etc.) can easily get
an overview of the policies that influence a given zone.&lt;/p&gt;
&lt;p&gt;For instance, if I want to position a new management service, I am less
concerned about workstation-specific policies. And if the management service is
specific for the development environment (such as a new version control system)
many corporate or commercially oriented policies don't apply either.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Conclusion&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The above approach for structuring an organization is documented here in a
high-level manner. It takes many assumptions or hypothetical decisions which
are to be tailored toward the company itself. In my company, a different zoning
structure is selected, taking into account that it is a financial service
provider with entities in multiple countries, handling several thousand of
systems and with an ongoing effort to include cloud providers within its
infrastructure architecture.&lt;/p&gt;
&lt;p&gt;Yet the approach itself is followed in an equal fashion. We looked at
requirements, created a layered structure, and finished the zoning schema. Once
the schema was established, the requirements for all the zones were written out
further, and a mapping of existing deployments (as-is) toward the new zoning
picture is on-going. For those thinking that it is just slideware right now -
it isn't. Some of the structures that come out of the zoning exercise are
already prevalent in the organization, and new environments (due to mergers and
acquisitions) are directed to this new situation.&lt;/p&gt;
&lt;p&gt;Still, we know we have a large exercise ahead before it is finished, but I
believe that it will benefit us greatly, not only from a security point of
view, but also clarity and manageability of the environment.&lt;/p&gt;</content><category term="Architecture"></category><category term="segmentation"></category><category term="zoning"></category><category term="deployments"></category><category term="landscape"></category></entry></feed>